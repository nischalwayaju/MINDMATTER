<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register</title>
    <link rel="stylesheet" href="register.css">
    <link href="https://fonts.cdnfonts.com/css/medula-one" rel="stylesheet">
    <script>
        // Function to validate email format
        function validateEmail() {
            const email = document.getElementById('email').value;
            const emailError = document.getElementById('email_error');
            const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!regex.test(email)) {
                emailError.textContent = "Please enter a valid email address.";
                return false;
            }
            emailError.textContent = '';
            return true;
        }

        // Function to check password strength
        function validatePasswordStrength() {
            const password = document.getElementById('password').value;
            const passwordError = document.getElementById('password_error');
            const regex = /^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[\W]).{8,}$/;
            if (!regex.test(password)) {
                passwordError.textContent = "Password must be at least 8 characters long, with at least 1 uppercase letter, 1 lowercase letter, 1 number, and 1 special character.";
                return false;
            }
            passwordError.textContent = '';
            return true;
        }

        // Function to check if password and confirm password match
        function confirmPasswordMatch() {
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirmpassword').value;
            const confirmPasswordError = document.getElementById('confirm_password_error');
            if (password !== confirmPassword) {
                confirmPasswordError.textContent = "Passwords do not match.";
                return false;
            }
            confirmPasswordError.textContent = '';
            return true;
        }

        // Function to validate the form before submission
        function validateForm(event) {
            const isEmailValid = validateEmail();
            const isPasswordStrong = validatePasswordStrength();
            const isPasswordMatch = confirmPasswordMatch();

            if (!isEmailValid || !isPasswordStrong || !isPasswordMatch) {
                event.preventDefault(); 
            }
        }
    </script>
</head>
<body>

    <nav>
        <div class="menu">
          <div>
            <a href="index.html" ><img src="images/logo.png" alt="LOGO" class="logo"></a>
          </div>
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="blogs.html">Blogs</a></li>
            <li><a href="stories.php">Stories</a></li>
            <li><a href="login.html">Login</a></li>
          </ul>
        </div>
    </nav>
    
    <div class="mainbody">
        <div class="box">
          <div class="form">
            <form method="POST" onsubmit="validateForm(event)">
                <h2>Registration Form</h2>
                <div class="inputbox">
                    <input type="text" id="fullName" name="fullname" placeholder="Full Name" required="required">
                    <i></i>
                </div>
                <div class="inputbox">
                    <input type="email" id="email" name="email" placeholder="Email" required oninput="validateEmail()">
                    <i></i>
                    
                </div>
                <div id="email_error" style="color: red;"></div>
                <div class="inputbox">
                    <input type="text" id="dob" name="dob" placeholder="Date of Birth" onfocus="(this.type='date')" required>
                    <i></i>
                </div>
                <div class="inputbox">
                    <input type="password" id="password" name="password" placeholder="Password" required oninput="validatePasswordStrength()">
                    <i></i>
                </div>
                <div id="password_error" style="color: red;"></div>
                <div class="inputbox">
                    <input type="password" id="confirmpassword" name="confirmpassword" placeholder="Re-enter Password" required oninput="confirmPasswordMatch()">
                    <i></i>
                </div>
                <div id="confirm_password_error" style="color: red;"></div>

                <div class="links">
                    <p>Already have an account.â€‚</p>
                    <a href="login.html"> Login here</a>
                    </div>
                
                <input type="submit" value="Register">
              </form>
          </div>
        </div>
    </div>
   
</body>

</html>
